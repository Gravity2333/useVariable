import*as e from"react";import*as t from"react-dom";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};r.d(n,{f:()=>o,A:()=>y});const c=(a={useMemo:()=>e.useMemo,useRef:()=>e.useRef,useState:()=>e.useState},s={},r.d(s,a),s),o="/";var a,s;const u=(e=>{var t={};return r.d(t,e),t})({flushSync:()=>t.flushSync});function f({config:e=[]}){const t=(0,c.useRef)(e.reduce(((e,t)=>({...e,[t.name]:void 0!==t.initialValue?t.initialValue:{}})),{})),[r]=function(){const[e,t]=(0,c.useState)(0);return[()=>{(0,u.flushSync)((()=>{t(e>99999?0:e=>e+1)}))}]}(),[n,a]=(0,c.useState)({});function s(e,t=!1){void 0!==n[e]&&a((r=>({...r,[e]:t})))}const f=(0,c.useMemo)((()=>{const t={},r=e.reduce(((e,r)=>(0!==Object.keys(r.effects||{})?.length&&Object.keys(r.effects||{}).forEach((e=>{t[`${r.name}${o}${e}`]=!1})),{...e,[r.name]:r})),{})||{};return a(t),r}),[]),l=(e,r,n,c,o)=>{const a=o||t.current[r];!function(){const t=[];let r=0;const o=(e,n)=>{const c=t[r];if(!c){const c={};throw t[r++]=c,e(n).then((e=>{c.status="fulfilled",c.value=e}),(e=>{c.status="rejected",c.error=e}))}if(r++,"fulfilled"===c.status)return c.value;if("rejected"===c.status)throw new Error(c.error)},u=()=>{try{(t=>{e({call:t,setLoading:s.bind(null,n)},{store:a,dispatch:i},c)})(o)}catch(e){return e instanceof Promise&&e.then((()=>{r=0,u()})),{}}};u()}()},i=({type:e,payload:n},c)=>{const[a,s]=e.split(o),u=f[a],{reducers:i={},effects:d={}}=u;d[s]?l(d[s],a,e,n,c):i[s]&&((e,n,c,o)=>{if(o)e(o,{payload:c});else{const r=t.current[n],o=e(r,{payload:c});Object.assign(r,o)}r()})(i[s],a,n,c)};return[t.current,i,function(e){return n[e]},r]}const l="VARIABLES";function i(e){return`${l}${o}${e}`}function d(e){const t={name:l,initialValue:{},reducers:{},effects:{}},{variables:r={},reducers:n={},effects:c={}}=e;return Object.keys(r).forEach((e=>{const n=r[e];Object.defineProperty(t.initialValue,e,{value:n,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(t.reducers,function(e){return`set${t=e,t.charAt(0).toUpperCase()+t.slice(1)}`;var t}(e),{configurable:!0,enumerable:!0,writable:!0,value:(t,r)=>{t[e]=r.payload}})})),Object.keys(n).forEach((e=>{Object.defineProperty(t.reducers,e,{configurable:!0,enumerable:!0,writable:!0,value:n[e]})})),Object.keys(c).forEach((e=>{Object.defineProperty(t.effects,e,{configurable:!0,enumerable:!0,writable:!0,value:c[e]})})),t}function y(e){const[{[l]:t},r,n,o]=f({config:[d(e)]});function a(e){for(const t in e){const r=e[t];"object"==typeof r&&null!==r&&(e[t]=a(r))}return new Proxy(e,{get:(e,t,r)=>Reflect.get(e,t,r),set(e,t,r,n){const c=Reflect.set(e,t,r,n);return o(),c},deleteProperty:(e,t)=>Reflect.deleteProperty(e,t)})}const s=(0,c.useMemo)((()=>a(t)),[]);return[s,e=>{r({type:i(e.type),payload:e.payload},s)},e=>n(i(e))]}var b=n.f,p=n.A;export{b as USE_STORE_TYPE_SPLITER,p as default};